<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>Doktor Listesi</title>

    <!-- Bootstrap -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"/>
</h:head>

<h:body class="container mt-4">

    <h2 class="mb-4">Doktor Listesi (Admin Paneli)</h2>

    <!-- ÜSTTE EKLE BUTONU -->
    <div class="mb-3">
        <h:form>
            <h:commandButton value="Doktor Ekle"
                             action="add-doctor.xhtml?faces-redirect=true"
                             styleClass="btn btn-primary"/>
        </h:form>
    </div>

    <!-- DOKTOR TABLOSU -->
    <h:form>
        <h:dataTable value="#{doctorBean.listDoctorForAdmin}" var="d"
                     styleClass="table table-striped table-bordered">

            <!-- AD -->
            <h:column>
                <f:facet name="header">Ad</f:facet>
                #{d.doctorName}
            </h:column>

            <!-- SOYAD -->
            <h:column>
                <f:facet name="header">Soyad</f:facet>
                #{d.doctorSurname}
            </h:column>

            <!-- BÖLÜM -->
            <h:column>
                <f:facet name="header">Bölüm</f:facet>
                #{d.doctorDepartment}
            </h:column>

            <!-- TELEFON -->
            <h:column>
                <f:facet name="header">Telefon</f:facet>
                #{d.doctorPhoneNumber}
            </h:column>

            <!-- ODA -->
            <h:column>
                <f:facet name="header">Oda</f:facet>
                #{d.doctorRoomNumber}
            </h:column>

            <!-- MAAŞ -->
            <h:column>
                <f:facet name="header">Maaş</f:facet>
                #{d.doctorSalary} ₺
            </h:column>

            <!-- İŞLEM BUTONLARI -->
            <h:column>
                <f:facet name="header">İşlemler</f:facet>

                <!-- Sil -->
                <h:commandButton value="Sil"
                           		 action ="#{doctorBean.deleteDoctor(d.doctorId)}"
                                 styleClass="btn btn-danger btn-sm me-1"
                                 onclick="return confirm('Doktor silinsin mi?');"/>

                <!-- Maaş Güncelle -->
                <h:commandButton value="Maaş Güncelle"
                                 action="#{doctorBean.goToSalaryPage(d.doctorId)}"
                                 styleClass="btn btn-warning btn-sm"/>
            </h:column>

        </h:dataTable>
    </h:form>

</h:body>
</html>
